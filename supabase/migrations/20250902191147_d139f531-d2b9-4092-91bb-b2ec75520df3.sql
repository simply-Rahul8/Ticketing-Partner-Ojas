-- First, populate the seats table with the theatre layout
INSERT INTO public.seats (seat_id, row_letter, seat_number, status) VALUES
-- Row A (15 seats)
('A1', 'A', 1, 'available'), ('A2', 'A', 2, 'available'), ('A3', 'A', 3, 'available'), 
('A4', 'A', 4, 'available'), ('A5', 'A', 5, 'available'), ('A6', 'A', 6, 'available'), 
('A7', 'A', 7, 'available'), ('A8', 'A', 8, 'available'), ('A9', 'A', 9, 'available'), 
('A10', 'A', 10, 'available'), ('A11', 'A', 11, 'available'), ('A12', 'A', 12, 'available'), 
('A13', 'A', 13, 'available'), ('A14', 'A', 14, 'available'), ('A15', 'A', 15, 'available'),

-- Row B (16 seats)
('B1', 'B', 1, 'available'), ('B2', 'B', 2, 'available'), ('B3', 'B', 3, 'available'), 
('B4', 'B', 4, 'available'), ('B5', 'B', 5, 'available'), ('B6', 'B', 6, 'available'), 
('B7', 'B', 7, 'available'), ('B8', 'B', 8, 'available'), ('B9', 'B', 9, 'available'), 
('B10', 'B', 10, 'available'), ('B11', 'B', 11, 'available'), ('B12', 'B', 12, 'available'), 
('B13', 'B', 13, 'available'), ('B14', 'B', 14, 'available'), ('B15', 'B', 15, 'available'), 
('B16', 'B', 16, 'available'),

-- Row C (17 seats)
('C1', 'C', 1, 'available'), ('C2', 'C', 2, 'available'), ('C3', 'C', 3, 'available'), 
('C4', 'C', 4, 'available'), ('C5', 'C', 5, 'available'), ('C6', 'C', 6, 'available'), 
('C7', 'C', 7, 'available'), ('C8', 'C', 8, 'available'), ('C9', 'C', 9, 'available'), 
('C10', 'C', 10, 'available'), ('C11', 'C', 11, 'available'), ('C12', 'C', 12, 'available'), 
('C13', 'C', 13, 'available'), ('C14', 'C', 14, 'available'), ('C15', 'C', 15, 'available'), 
('C16', 'C', 16, 'available'), ('C17', 'C', 17, 'available'),

-- Row D (18 seats)
('D1', 'D', 1, 'available'), ('D2', 'D', 2, 'available'), ('D3', 'D', 3, 'available'), 
('D4', 'D', 4, 'available'), ('D5', 'D', 5, 'available'), ('D6', 'D', 6, 'available'), 
('D7', 'D', 7, 'available'), ('D8', 'D', 8, 'available'), ('D9', 'D', 9, 'available'), 
('D10', 'D', 10, 'available'), ('D11', 'D', 11, 'available'), ('D12', 'D', 12, 'available'), 
('D13', 'D', 13, 'available'), ('D14', 'D', 14, 'available'), ('D15', 'D', 15, 'available'), 
('D16', 'D', 16, 'available'), ('D17', 'D', 17, 'available'), ('D18', 'D', 18, 'available'),

-- Row E (19 seats)
('E1', 'E', 1, 'available'), ('E2', 'E', 2, 'available'), ('E3', 'E', 3, 'available'), 
('E4', 'E', 4, 'available'), ('E5', 'E', 5, 'available'), ('E6', 'E', 6, 'available'), 
('E7', 'E', 7, 'available'), ('E8', 'E', 8, 'available'), ('E9', 'E', 9, 'available'), 
('E10', 'E', 10, 'available'), ('E11', 'E', 11, 'available'), ('E12', 'E', 12, 'available'), 
('E13', 'E', 13, 'available'), ('E14', 'E', 14, 'available'), ('E15', 'E', 15, 'available'), 
('E16', 'E', 16, 'available'), ('E17', 'E', 17, 'available'), ('E18', 'E', 18, 'available'), 
('E19', 'E', 19, 'available'),

-- Row F (20 seats)
('F1', 'F', 1, 'available'), ('F2', 'F', 2, 'available'), ('F3', 'F', 3, 'available'), 
('F4', 'F', 4, 'available'), ('F5', 'F', 5, 'available'), ('F6', 'F', 6, 'available'), 
('F7', 'F', 7, 'available'), ('F8', 'F', 8, 'available'), ('F9', 'F', 9, 'available'), 
('F10', 'F', 10, 'available'), ('F11', 'F', 11, 'available'), ('F12', 'F', 12, 'available'), 
('F13', 'F', 13, 'available'), ('F14', 'F', 14, 'available'), ('F15', 'F', 15, 'available'), 
('F16', 'F', 16, 'available'), ('F17', 'F', 17, 'available'), ('F18', 'F', 18, 'available'), 
('F19', 'F', 19, 'available'), ('F20', 'F', 20, 'available'),

-- Row G (21 seats)
('G1', 'G', 1, 'available'), ('G2', 'G', 2, 'available'), ('G3', 'G', 3, 'available'), 
('G4', 'G', 4, 'available'), ('G5', 'G', 5, 'available'), ('G6', 'G', 6, 'available'), 
('G7', 'G', 7, 'available'), ('G8', 'G', 8, 'available'), ('G9', 'G', 9, 'available'), 
('G10', 'G', 10, 'available'), ('G11', 'G', 11, 'available'), ('G12', 'G', 12, 'available'), 
('G13', 'G', 13, 'available'), ('G14', 'G', 14, 'available'), ('G15', 'G', 15, 'available'), 
('G16', 'G', 16, 'available'), ('G17', 'G', 17, 'available'), ('G18', 'G', 18, 'available'), 
('G19', 'G', 19, 'available'), ('G20', 'G', 20, 'available'), ('G21', 'G', 21, 'available'),

-- Row H (15 seats)
('H1', 'H', 1, 'available'), ('H2', 'H', 2, 'available'), ('H3', 'H', 3, 'available'), 
('H4', 'H', 4, 'available'), ('H5', 'H', 5, 'available'), ('H6', 'H', 6, 'available'), 
('H7', 'H', 7, 'available'), ('H8', 'H', 8, 'available'), ('H9', 'H', 9, 'available'), 
('H10', 'H', 10, 'available'), ('H11', 'H', 11, 'available'), ('H12', 'H', 12, 'available'), 
('H13', 'H', 13, 'available'), ('H14', 'H', 14, 'available'), ('H15', 'H', 15, 'available')
ON CONFLICT (seat_id) DO NOTHING;

-- Enable realtime for seats and bookings tables
ALTER TABLE public.seats REPLICA IDENTITY FULL;
ALTER TABLE public.bookings REPLICA IDENTITY FULL;

-- Add tables to realtime publication
ALTER PUBLICATION supabase_realtime ADD TABLE public.seats;
ALTER PUBLICATION supabase_realtime ADD TABLE public.bookings;